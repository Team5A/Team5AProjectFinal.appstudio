{
  "!type": "Form",
  "_uuid": "f5b915cf08fa46e2825e368a04b32a83",
  "HTML": "",
  "attributes": "",
  "background": "",
  "backgroundimage": "",
  "borderColor": "",
  "borderStyle": "",
  "borderWidth": "",
  "cached_js": "// requestURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY&location=41.265330,-95.949360&type=tourist_attraction&radius=50000\"let \nrequestURL = \"\"\n\n\nlet gps;\nlet longitude1 = \"\"\nlet latitude1 = \"\"\n\n\nlet passLongitude2 = \"\"\nlet passLatitude2 = \"\"\n\nfunction onGeolocation1(location) {\n  longitude = \"Longitude: \" + location.coords.longitude  +  '\\n';\n  latitude = \"Latitude: \" + location.coords.latitude  +  '\\n';\n passLongitude2 = location.coords.longitude\n passLatitude2 = location.coords.latitude\n}\n\n\nfunction onXHRLoad() {\n    let message = \"\"\n    let apiData = JSON.parse(this.responseText)\n    for (i = 0; i <= apiData.results.length - 1; i++) {\n        console.log(`${apiData.results[i].name}`)\n        message = message + apiData.results[i].name + \"\\n\"\n    }\n    txtTouristAttractions.value = message\n    // if want to add to database call a function here that does that\n    // addToDatabase()\n}\n\nfunction callAPI(URL) {\n    var xhttp = new XMLHttpRequest();\n    \n    // if you need cors (you'll get a cors error if you don't have it and you need it)\n    // use this code to add the cors code to your url \n    xhttp.open('GET', 'https://cors-anywhere.herokuapp.com/' + URL)\n    \n    // if you DON'T need cors use this code\n    //xhttp.open('GET',URL)\n    \n    // if you need to set the returned data type, use this line of code: \n    //xhttp.setRequestHeader('Content-Type', 'application/json')\n    \n    // if you need authorization token (stored in myToken) use this line of code: \n    // xhttp.setRequestHeader('Authorization', 'Bearer ' + myToken)\n    \n    // if you need a key and it's not in the url use code in one of the following\n    // examples (think of headers as parameters)\n    // or just use the Postman url which has all the parameters already added like I did here. \n    \n    /*\n    xhttp.setRequestHeader('key','AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY')\n    xhttp.setRequestHeader('location','41.276900,-95.942310')\n    xhttp.setRequestHeader('rankby','distance')\n    xhttp.setRequestHeader('type','restaurant')\n    */\n\n    // make the API request\n    xhttp.addEventListener('load', onXHRLoad)\n    xhttp.send()\n}\n\n\nbtnTouristAttractions.onclick=function(){\n  // call the API calling code above\n  callAPI(requestURL)\n}\n\nfunction onGeolocation(location) {\n var s;\n  s = \"Longitude: \" + location.coords.longitude  +  '\\n';\n  s = s  +  \"Latitude: \" + location.coords.latitude  +  '\\n';\n  s = s  +  \"Speed: \" + location.coords.speed  +  \" \";\n  s = s  +  \"Altitude: \" + location.coords.altitude  +  '\\n';\n  s = s  +  \"Accuracy: \" + location.coords.accuracy  +  \" \";\n  s = s  +  \"Accuracy(altitude): \" + location.coords.altitudeAccuracy  +  \" \"  +  '\\n';\n //different browsers return the timestamp in different formats.\n //this converts it if necessary.\n  //lblVNA.value= location.coords.longitude \n  //lblVNA2.value = location.coords.latitude\n  longitude1 = location.coords.longitude\n  latitude1 = location.coords.latitude\n}\n\nfunction errorCallBack(Error) {\n //unable to get the geolocation data\n  NSB.MsgBox(Error.message  +  '\\n'  +  \"Show default map...\");\n  ShowMap(latitude, longitude);\n}\n\nviewNearbyAttractions.onshow=function(){\n  options={timeout: 5000, maximumAge: 5000, enableHighAccuracy: true};\n  gps=navigator.geolocation.watchPosition(onGeolocation, errorCallBack, options);\n  //lblVNA.value = latitude\n  //lblVNA2.value = longitude\n  //latitude=lblVNA.value\n  //longitude=lblVNA2.value\n  console.log(navigator.geolocation.watchPosition)\n  console.log(gps)\n  console.log(latitude1)\n  console.log(longitude1)\n  console.log(requestURL)\n  requestURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY&location=\" + latitude1 + \",\" + longitude1 + \"&type=tourist_attraction&radius=50000\"\n  //requestURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY&location=41.265330,-95.949360&type=tourist_attraction&radius=50000\"\n  \n  }\n\n\n\n\n\n\n\n\n",
  "cached_js_script_hash": "662a97c452040820f1aa4b983771e81b",
  "children": [
    {
      "!type": "Button_bs4",
      "_uuid": "d200bba1b4b7487c83706abba8eab52b",
      "ChangeForm": "",
      "appearance": " btn-secondary",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "blockLevel": "",
      "borderColor": "",
      "borderStyle": "",
      "borderWidth": "",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "groupStyle": "",
      "grouping": "",
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "btnTouristAttractions",
      "left": 37,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "outline": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "right": "auto",
      "script": "",
      "size": " btn-md",
      "style": "",
      "toggleControl": "",
      "top": 53,
      "value": "See Tourist Attractions by Current Location",
      "width": 257
    },
    {
      "!type": "Textarea_bs4",
      "_uuid": "4ca24f267df7402aba34d1210972dfec",
      "align": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "",
      "headerCols": 2,
      "height": 239,
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "txtTouristAttractions",
      "inputmode": "",
      "left": 48,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "maxlength": "10",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "readonly",
      "required": "",
      "right": "auto",
      "rows": "",
      "script": "",
      "spellcheck": "true",
      "style": "",
      "top": 136,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": "auto"
    }
  ],
  "class": "",
  "designHeight": 0,
  "designWidth": 0,
  "expanded_pmp": true,
  "fullScreen": "true",
  "height": 460,
  "id": "viewNearbyAttractions",
  "language": "JavaScript",
  "left": "0",
  "locked": false,
  "modal": "false",
  "onhide": "",
  "onkeypress": "",
  "onresize": "",
  "onshow": "viewNearbyAttractions.onshow()",
  "openMode": "none",
  "parentForm": "",
  "position": "absolute",
  "script": "// requestURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY&location=41.265330,-95.949360&type=tourist_attraction&radius=50000\"let \nrequestURL = \"\"\n\n\nlet gps;\nlet longitude1 = \"\"\nlet latitude1 = \"\"\n\n\nlet passLongitude2 = \"\"\nlet passLatitude2 = \"\"\n\nfunction onGeolocation1(location) {\n  longitude = \"Longitude: \" + location.coords.longitude  +  '\\n';\n  latitude = \"Latitude: \" + location.coords.latitude  +  '\\n';\n passLongitude2 = location.coords.longitude\n passLatitude2 = location.coords.latitude\n}\n\n\nfunction onXHRLoad() {\n    let message = \"\"\n    let apiData = JSON.parse(this.responseText)\n    for (i = 0; i <= apiData.results.length - 1; i++) {\n        console.log(`${apiData.results[i].name}`)\n        message = message + apiData.results[i].name + \"\\n\"\n    }\n    txtTouristAttractions.value = message\n    // if want to add to database call a function here that does that\n    // addToDatabase()\n}\n\nfunction callAPI(URL) {\n    var xhttp = new XMLHttpRequest();\n    \n    // if you need cors (you'll get a cors error if you don't have it and you need it)\n    // use this code to add the cors code to your url \n    xhttp.open('GET', 'https://cors-anywhere.herokuapp.com/' + URL)\n    \n    // if you DON'T need cors use this code\n    //xhttp.open('GET',URL)\n    \n    // if you need to set the returned data type, use this line of code: \n    //xhttp.setRequestHeader('Content-Type', 'application/json')\n    \n    // if you need authorization token (stored in myToken) use this line of code: \n    // xhttp.setRequestHeader('Authorization', 'Bearer ' + myToken)\n    \n    // if you need a key and it's not in the url use code in one of the following\n    // examples (think of headers as parameters)\n    // or just use the Postman url which has all the parameters already added like I did here. \n    \n    /*\n    xhttp.setRequestHeader('key','AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY')\n    xhttp.setRequestHeader('location','41.276900,-95.942310')\n    xhttp.setRequestHeader('rankby','distance')\n    xhttp.setRequestHeader('type','restaurant')\n    */\n\n    // make the API request\n    xhttp.addEventListener('load', onXHRLoad)\n    xhttp.send()\n}\n\n\nbtnTouristAttractions.onclick=function(){\n  // call the API calling code above\n  callAPI(requestURL)\n}\n\nfunction onGeolocation(location) {\n var s;\n  s = \"Longitude: \" + location.coords.longitude  +  '\\n';\n  s = s  +  \"Latitude: \" + location.coords.latitude  +  '\\n';\n  s = s  +  \"Speed: \" + location.coords.speed  +  \" \";\n  s = s  +  \"Altitude: \" + location.coords.altitude  +  '\\n';\n  s = s  +  \"Accuracy: \" + location.coords.accuracy  +  \" \";\n  s = s  +  \"Accuracy(altitude): \" + location.coords.altitudeAccuracy  +  \" \"  +  '\\n';\n //different browsers return the timestamp in different formats.\n //this converts it if necessary.\n  //lblVNA.value= location.coords.longitude \n  //lblVNA2.value = location.coords.latitude\n  longitude1 = location.coords.longitude\n  latitude1 = location.coords.latitude\n}\n\nfunction errorCallBack(Error) {\n //unable to get the geolocation data\n  NSB.MsgBox(Error.message  +  '\\n'  +  \"Show default map...\");\n  ShowMap(latitude, longitude);\n}\n\nviewNearbyAttractions.onshow=function(){\n  options={timeout: 5000, maximumAge: 5000, enableHighAccuracy: true};\n  gps=navigator.geolocation.watchPosition(onGeolocation, errorCallBack, options);\n  //lblVNA.value = latitude\n  //lblVNA2.value = longitude\n  //latitude=lblVNA.value\n  //longitude=lblVNA2.value\n  console.log(navigator.geolocation.watchPosition)\n  console.log(gps)\n  console.log(latitude1)\n  console.log(longitude1)\n  console.log(requestURL)\n  requestURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY&location=\" + latitude1 + \",\" + longitude1 + \"&type=tourist_attraction&radius=50000\"\n  //requestURL = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=AIzaSyCE-pjULPU_Gp5Qf0qL39tVsdJBX55J0cY&location=41.265330,-95.949360&type=tourist_attraction&radius=50000\"\n  \n  }\n\n\n\n\n\n\n\n\n",
  "setFocusID": "",
  "style": "",
  "theme": "",
  "top": "0",
  "width": 320,
  "_functions": [
    {
      "!type": "Form",
      "_uuid": "0e13ec5ffe1b48a0b39a56c7f00e51b6",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "onGeolocation1",
      "location": [
        12,
        13
      ],
      "script": "",
      "signature": "function onGeolocation1(location) {"
    },
    {
      "!type": "Form",
      "_uuid": "1979084bc35c4f9784716041db4f6138",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "onXHRLoad",
      "location": [
        20,
        21
      ],
      "script": "",
      "signature": "function onXHRLoad() {"
    },
    {
      "!type": "Form",
      "_uuid": "47ed33ff55064aceb2f16f7fd8a32ded",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "callAPI",
      "location": [
        32,
        33
      ],
      "script": "",
      "signature": "function callAPI(URL) {"
    },
    {
      "!type": "Form",
      "_uuid": "d4b35647b9da4eb38cff7b8c82282ad4",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "btnTouristAttractions.onclick",
      "location": [
        65,
        66
      ],
      "script": "",
      "signature": "btnTouristAttractions.onclick()"
    },
    {
      "!type": "Form",
      "_uuid": "b66bcea34a9142e79b2aa62a72555d31",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "onGeolocation",
      "location": [
        70,
        71
      ],
      "script": "",
      "signature": "function onGeolocation(location) {"
    },
    {
      "!type": "Form",
      "_uuid": "f9e2d895bcb74af4ad0624c0bf6aebe8",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "errorCallBack",
      "location": [
        86,
        87
      ],
      "script": "",
      "signature": "function errorCallBack(Error) {"
    },
    {
      "!type": "Form",
      "_uuid": "8c2ef53955a248e1be0ce3bf5b1cd60f",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "viewNearbyAttractions.onshow",
      "location": [
        92,
        93
      ],
      "script": "",
      "signature": "viewNearbyAttractions.onshow()"
    }
  ]
}